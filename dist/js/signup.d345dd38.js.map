{"version":3,"sources":["webpack:///./src/views/Signup.vue?62f2","webpack:///src/views/Signup.vue","webpack:///./src/views/Signup.vue?98ec","webpack:///./src/views/Signup.vue","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","xs12","sm12","md8","offset-md2","lg6","offset-lg3","wrap","staticClass","_v","ref","lazy-validation","model","value","callback","$$v","valid","expression","alert","type","dismissible","transition","_s","signBy","rules","usernameRules","counter","label","error-messages","errors","required","maxlength","username","row","lg9","md9","sm6","phoneRules","phone","mailRules","mail","md3","lg3","d-flex","items","placeholder","on","change","handleSignByChange","md6","verifyCodeRules","verifyCode","block","disabled","captcha","cooldown","click","handleGetVerifyCode","passwordRules","password","submit","clear","staticRenderFns","data","timer","v","length","test","methods","_this","$refs","form","validate","Object","api","then","r","success","$router","push","reset","item","action","byMail","_this2","signup_by","setInterval","$set","clearInterval","concat","code","atob","result","watch","_this3","main","where","hasUser","views_Signupvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","global","scope","self","window","apply","Function","prototype","Timeout","id","clearFn","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","timeout","close","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_require__","setImmediate","clearImmediate","process","undefined","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","installNextTickImplementation","canUsePostMessage","installPostMessageImplementation","MessageChannel","installMessageChannelImplementation","createElement","installReadyStateChangeImplementation","installSetTimeoutImplementation","args","Array","i","task","handle","run","runIfPresent","nextTick","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","messagePrefix","Math","random","onGlobalMessage","event","source","indexOf","slice","addEventListener","attachEvent","channel","port1","port2","html","documentElement","script","onreadystatechange","removeChild","appendChild"],"mappings":"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","file":"js/signup.d345dd38.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm12\":\"\",\"md8\":\"\",\"offset-md2\":\"\",\"lg6\":\"\",\"offset-lg3\":\"\",\"wrap\":\"\"}},[_c('v-card',{staticClass:\"px-5 py-3 mt-5\"},[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(\"注册\")]),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-alert',{attrs:{\"value\":_vm.alert,\"type\":\"error\",\"dismissible\":\"\",\"transition\":\"scale-transition\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.signBy)+\"号为必填项\\n          \")]),_c('v-text-field',{attrs:{\"rules\":_vm.usernameRules,\"counter\":18,\"label\":\"用户名\",\"error-messages\":_vm.errors,\"required\":\"\",\"maxlength\":\"18\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(_vm.signBy!='邮箱')?_c('v-flex',{attrs:{\"lg9\":\"\",\"md9\":\"\",\"sm6\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.phoneRules,\"label\":\"手机号\",\"required\":\"\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1):_c('v-flex',{attrs:{\"lg9\":\"\",\"md9\":\"\",\"sm6\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.mailRules,\"label\":\"邮箱号\",\"required\":\"\"},model:{value:(_vm.mail),callback:function ($$v) {_vm.mail=$$v},expression:\"mail\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md3\":\"\",\"lg3\":\"\",\"d-flex\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.items,\"label\":\"注册方式\",\"placeholder\":\"点此切换\"},on:{\"change\":_vm.handleSignByChange},model:{value:(_vm.signBy),callback:function ($$v) {_vm.signBy=$$v},expression:\"signBy\"}})],1),_c('v-flex',{attrs:{\"lg9\":\"\",\"sm6\":\"\",\"md6\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.verifyCodeRules,\"label\":\"验证码\",\"required\":\"\"},model:{value:(_vm.verifyCode),callback:function ($$v) {_vm.verifyCode=$$v},expression:\"verifyCode\"}})],1),_c('v-flex',{attrs:{\"lg3\":\"\",\"sm6\":\"\",\"md6\":\"\",\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"disabled\":_vm.captcha.cooldown != 0},on:{\"click\":_vm.handleGetVerifyCode}},[(_vm.captcha.cooldown)?_c('span',[_vm._v(_vm._s(_vm.captcha.cooldown))]):_c('span',[_vm._v(\"发送验证码\")])])],1)],1),_c('v-text-field',{attrs:{\"type\":\"password\",\"rules\":_vm.passwordRules,\"label\":\"密码\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-card-actions',[_c('v-btn',{attrs:{\"disabled\":!_vm.valid},on:{\"click\":_vm.submit}},[_vm._v(\"\\n              注册\\n            \")]),_c('v-btn',{on:{\"click\":_vm.clear}},[_vm._v(\"清空\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-layout>\n      <v-flex xs12 sm12 md8 offset-md2 lg6 offset-lg3 wrap>\n        <v-card class=\"px-5 py-3 mt-5\">\n\n          <h3 class=\"headline mb-0\">注册</h3>\n          <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n            <v-alert :value=\"alert\" type=\"error\" dismissible transition=\"scale-transition\">\n              {{signBy}}号为必填项\n            </v-alert>\n            <!-- input control -->\n            <v-text-field v-model=\"username\" :rules=\"usernameRules\" :counter=\"18\" label=\"用户名\" :error-messages=\"errors\" required maxlength=\"18\"></v-text-field>\n            <!-- verify code -->\n            <v-layout row wrap>\n\n              <v-flex v-if=\"signBy!='邮箱'\" lg9 md9 sm6 xs12>\n                <v-text-field v-model=\"phone\" :rules=\"phoneRules\" label=\"手机号\" required></v-text-field>\n              </v-flex>\n              <v-flex v-else lg9 md9 sm6 xs12>\n                <v-text-field v-model=\"mail\" :rules=\"mailRules\" label=\"邮箱号\" required></v-text-field>\n              </v-flex>\n              <v-flex xs12 sm6 md3 lg3 d-flex>\n                <v-select :items=\"items\" label=\"注册方式\" placeholder=\"点此切换\" v-model=\"signBy\" @change=\"handleSignByChange\"></v-select>\n              </v-flex>\n              <v-flex lg9 sm6 md6 xs12>\n                <v-text-field v-model=\"verifyCode\" :rules=\"verifyCodeRules\" label=\"验证码\" required></v-text-field>\n              </v-flex>\n              <v-flex lg3 sm6 md6 xs12>\n                <v-btn block @click=\"handleGetVerifyCode\" :disabled=\"captcha.cooldown != 0\">\n                  <span v-if=\"captcha.cooldown\">{{captcha.cooldown}}</span>\n                  <span v-else>发送验证码</span>\n                </v-btn>\n              </v-flex>\n            </v-layout>\n\n            <v-text-field v-model=\"password\" type=\"password\" :rules=\"passwordRules\" label=\"密码\" required></v-text-field>\n            <!-- action button -->\n            <v-card-actions>\n              <v-btn :disabled=\"!valid\" @click=\"submit\">\n                注册\n              </v-btn>\n              <v-btn @click=\"clear\">清空</v-btn>\n            </v-card-actions>\n\n          </v-form>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n\n<script>\nimport api from \"./../api\";\nimport { clearTimeout, setTimeout } from \"timers\";\n\nexport default {\n  data: () => ({\n    valid: true,\n    timer: 0,\n    username: \"\",\n    usernameRules: [\n      v => !!v || \"用户名为必填项\",\n      v => (v && v.length <= 10) || \"用户名不得超过十个字\"\n    ],\n    mail: \"\",\n    mailRules: [\n      v => !!v || \"E-mail is required\",\n      v => /.+@.+/.test(v) || \"E-mail must be valid\"\n    ],\n    phone: \"\",\n    phoneRules: [\n      v => !!v || \"手机号为必填项\",\n      v => (v && v.length == 11) || \"请输入合法的手机号码\"\n    ],\n    password: \"\",\n    passwordRules: [\n      v => !!v || \"密码为必填项\",\n      v => (v && v.length >= 6) || \"密码长度至少为六个字符\"\n    ],\n    verifyCode: \"\",\n    verifyCodeRules: [\n      v => !!v || \"验证码为必填项\",\n      v => (v && v.length == 6) || \"密码长度为六个字符\"\n    ],\n    items: [\"手机\", \"邮箱\"],\n    signBy: \"手机\",\n    errors: [],\n    alert: false,\n    // 验证码对象\n    captcha: {\n      timer: null,\n      cooldown: 0\n    }\n  }),\n\n  methods: {\n    submit() {\n      if (this.$refs.form.validate()) {\n        // // Native form submission is not yet supported\n        api(\"user/create\", {\n          username: this.username,\n          mail: this.mail,\n          phone: this.phone,\n          password: this.password\n        }).then(r => {\n          if (r.success) {\n            this.$router.push(\"/\");\n          }\n        });\n      }\n    },\n    clear() {\n      this.$refs.form.reset();\n    },\n    handleSignByChange(item) {\n      this.signBy = item;\n    },\n    // 获取验证码\n    handleGetVerifyCode() {\n      // 如果仍然在计时中，那么退出。否则继续\n      if (this.captcha.cooldown) return;\n      // 如果未填写手机号，那么退出，否则继续\n      if (!this.phone) {\n        this.alert = true;\n        return;\n      }\n\n      let action, byMail;\n      // 默认验证方式为手机\n      action = \"sms\";\n      // 如果使用邮箱验证，那么切换验证 api\n      if ((byMail = this.signup_by == \"mail\")) action = \"mail\";\n      // 不论选何种验证方式,验证的号码都为必填项\n      if ((byMail && !this.mail) || (!byMail && !this.phone)) {\n        this.alert = true;\n        return;\n      }\n\n      this.captcha.cooldown = 60;\n\n      this.captcha.timer = setInterval(() => {\n        if (this.captcha.cooldown == 0) {\n          clearInterval(this.captcha.timer);\n          return;\n        }\n        // this.captcha.cooldown = this.captcha.cooldown - 1;\n        this.$set(this.captcha, \"cooldown\", this.captcha.cooldown - 1);\n      }, 1000);\n\n      api(`captcha/${action}`, {\n        phone: this.phone,\n        mail: this.mail\n      }).then(r => {\n        this.code = atob(r.data.result);\n      });\n    }\n  },\n  watch: {\n    username() {\n      clearTimeout(this.timer);\n      this.timer = setTimeout(() => {\n        if (!this.username) {\n          return;\n        }\n        api(\"user/read\", { where: { username: this.username } })\n          .then(r => {\n            return r.data;\n          })\n          .then(hasUser => {\n            this.errors = hasUser ? [\"用户名已存在\"] : [];\n          });\n      }, 700);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signup.vue?vue&type=template&id=7c7ff1ea&\"\nimport script from \"./Signup.vue?vue&type=script&lang=js&\"\nexport * from \"./Signup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Signup.vue\"\nexport default component.exports","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n"],"sourceRoot":""}
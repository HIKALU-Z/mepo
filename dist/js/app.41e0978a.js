(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)o=r[u],a[o]&&d.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var r=n[o];0!==a[r]&&(i=!1)}i&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},o={app:0},a={app:0},s=[];function r(t){return c.p+"js/"+({about:"about",google:"google",login:"login",setting:"setting",signup:"signup"}[t]||t)+"."+{about:"3ff78755",google:"b0eed951",login:"293a96a9",setting:"0facfcd6",signup:"d345dd38"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1,google:1,setting:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise(function(e,n){for(var i="css/"+({about:"about",google:"google",login:"login",setting:"setting",signup:"signup"}[t]||t)+"."+{about:"eaced5e4",google:"69330869",login:"31d6cfe0",setting:"85937808",signup:"31d6cfe0"}[t]+".css",o=c.p+i,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var r=a[s],l=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(l===i||l===o))return e()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){r=u[s],l=r.getAttribute("data-href");if(l===i||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var i=e&&e.target&&e.target.src||o,a=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");a.request=i,n(a)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){o[t]=0}));var i=a[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise(function(e,n){i=a[t]=[e,n]});e.push(i[2]=s);var l,u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(t),l=function(e){d.onerror=d.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+i+": "+o+")");s.type=i,s.request=o,n[1](s)}a[t]=void 0}};var f=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,u.appendChild(d)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1459:function(t,e,n){"use strict";var i=n("f2cd"),o=n.n(i);o.a},"15c4":function(t,e,n){"use strict";var i=n("2a14"),o=n.n(i);o.a},"251e":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mepo"},[i("v-card",{staticClass:"mb-2 mepo-card"},[i("div",{staticClass:"pa-3"},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs1:""}},[i("v-avatar",{attrs:{size:40,color:"grey lighten-4"}},[i("img",{attrs:{src:n("915e"),alt:"avatar"}})])],1),i("v-flex",{staticClass:"pl-2",attrs:{xs10:""}},[i("h4",[t._v(t._s(t.item.$user?t.item.$user.username:"已注销"))]),i("span",[t._v(t._s(t.item.user_id))]),i("span",[t._v("123123")])]),i("v-flex",{attrs:{xs1:""}},[i("v-menu",{attrs:{bottom:"",left:""}},[i("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[i("v-icon",[t._v("mdi-chevron-down")])],1),i("v-list",[i("v-list-tile",{on:{click:function(e){t.handleUnFollow(t.item.$user.id)}}},[i("v-list-tile-title",[t._v("取消关注"+t._s(t.item.$user?t.item.$user.username:""))])],1),i("v-list-tile",{on:{click:function(e){t.handleRemoveMepo(t.item.id)}}},[i("v-list-tile-title",[t._v("删除米啵")])],1)],1)],1)],1),i("v-flex",{attrs:{xs12:""}},[t._v("\n          "+t._s(t.item.content)+"\n        ")]),t.item.remepo_from?i("v-flex",{staticClass:"remepo",attrs:{xs12:""}},[t._v("\n          "+t._s(t._f("reMepoContent")(t.item.remepo_from,t.mepoList))+"\n        ")]):t._e()],1)],1),i("v-card-actions",[i("v-btn",{attrs:{flat:""},on:{click:t.handleOpenRemepoDialog}},[i("v-icon",{attrs:{color:"teal",size:"28"}},[t._v("\n          mdi-twitter-retweet\n        ")])],1),i("v-btn",{attrs:{flat:""},on:{click:function(e){t.handleClickLike(t.item.id)}}},[t.wasLiked(t.item.id,t.item.$user.id)?i("v-icon",{attrs:{left:"",color:"red"}},[t._v("\n          mdi-heart\n        ")]):i("v-icon",{attrs:{left:"",color:"teal"}},[t._v("\n          mdi-heart-outline\n        ")]),t.likedCount>0?i("span",[t._v(" "+t._s(t.likedCount))]):t._e()],1),i("v-btn",{attrs:{flat:""},on:{click:t.handleShowComment}},[i("v-icon",{attrs:{color:"teal"}},[t._v("\n          mdi-comment-processing-outline\n        ")])],1)],1),t.commentVisible?i("Comment",{attrs:{mepoId:t.item.id}}):t._e()],1),t._v("\n  "+t._s(t.item.$belongsToUsers)+"\n  "),t.remepoDialog?i("RemepoDialog",{attrs:{dialog:t.remepoDialog,remepoFrom:t.item.id},on:{"update:dialog":function(e){t.remepoDialog=e}}}):t._e()],1)},o=[],a=n("a322"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?i("div",{staticClass:"loading py-3"},[i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):i("div",{staticClass:"comment"},[i("v-layout",{staticClass:"pa-3",attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-textarea",{ref:"commentInput",attrs:{box:"",label:"说出你的故事",clearable:"",height:80,value:"","prepend-inner-icon":"mdi-send","no-resize":""},on:{"click:prepend-inner":t.handleCreateComment},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}})],1),t._l(t.commentList,function(e,o){return i("v-flex",{key:"comment"+o,staticClass:"comment-item",attrs:{xs12:""}},[i("v-layout",[i("v-flex",{attrs:{xs2:""}},[i("v-avatar",{attrs:{tile:!0,size:64,color:"grey lighten-4"}},[i("img",{attrs:{src:n("e1c3"),alt:"avatar"}})])],1),i("v-flex",{attrs:{xs10:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("h3",[t._v(t._s(e.$user?e.$user.username||"已注销":"-"))]),e.reply_to?i("span",[t._v("回复了。。。"+t._s(t._f("replyTarget")(e.reply_to,t.commentList)))]):t._e()]),i("v-flex",{attrs:{xs12:""}},[t._v("\n                "+t._s(e.content)+"\n              ")]),t.comment.reply_to?t._e():i("v-flex",{staticClass:"toolbar",attrs:{xs12:""}},[i("v-layout",{attrs:{"justify-end":""}},[e.reply_to?i("span",{staticClass:"toolbar-item",on:{click:function(n){t.handleViewConversation(e.id)}}},[i("v-icon",{attrs:{size:16}},[t._v("mdi-forum")]),t._v("\n                    查看对话\n                  ")],1):t._e(),i("span",{staticClass:"toolbar-item",on:{click:function(n){t.handleReplay(e.id)}}},[i("v-icon",{attrs:{size:16}},[t._v("mdi-reply")]),t._v("\n                    回复\n                  ")],1),i("span",{staticClass:"toolbar-item "},[i("v-icon",{attrs:{size:16}},[t._v("mdi-thumb-up")]),t._v("\n                    点赞\n                  ")],1)])],1),e.id==t.comment.reply_to?i("v-flex",{attrs:{xs12:""}},[i("v-textarea",{attrs:{box:"",label:"愉快的聊天",type:"text","no-resize":"",height:80,"prepend-inner-icon":"mdi-send","append-icon":"mdi-close-circle"},on:{"click:prepend-inner":t.handleCreateComment,"click:append":t.handleCancleReply},model:{value:t.reply,callback:function(e){t.reply=e},expression:"reply"}})],1):t._e()],1)],1)],1),o+1<t.listLength?i("v-divider",{staticClass:"my-1 ",attrs:{inset:!1}}):t._e()],1)})],2),t.conversationVisible?i("ConversationDialog"):t._e()],1)])},r=[],c=n("365c"),l=n("5308"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"text-xs-center"},[n("v-dialog",{attrs:{"max-width":"640"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("123123")]),n("v-card-text",[t._v("\n                   阿斯顿发生的发生\n                ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog=!1}}},[t._v("\n                        Disagree\n                    ")]),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog=!1}}},[t._v("\n                        Agree\n                    ")])],1)],1)],1)],1)])},d=[],f={props:{show:{type:Boolean,default:!0}},data:function(){return{dialog:!0}}},m=f,p=(n("f4fa"),n("2877")),h=Object(p["a"])(m,u,d,!1,null,"ff0b725e",null);h.options.__file="ConversationDialog.vue";var v=h.exports,g={components:{ConversationDialog:v},props:{mepoId:{type:Number,default:function(){return 1}}},data:function(){return{loading:!0,comment:{content:null,user_id:l["a"].his_id(),mepo_id:this.mepoId,reply_to:null},newComment:"",reply:"",commentList:[],conversationVisible:!1}},computed:{listLength:function(){return this.commentList.length}},created:function(){this.getCommentList()},watch:{reply:function(t){this.comment.content=t},newComment:function(t){this.comment.content=t}},methods:{getCommentList:function(){var t=this;this.loading=!0,Object(c["a"])("comment/read",{where:{mepo_id:this.mepoId},with:[{relation:"belongs_to",model:"user"}]}).then(function(e){t.commentList=e.data||[],t.loading=!1})},initCommentForm:function(){this.newComment="",this.reply="",this.comment={content:null,user_id:l["a"].his_id(),mepo_id:this.mepoId,reply_to:null},this.$refs.commentInput.blur()},handleCreateComment:function(){var t=this;this.comment.content&&Object(c["a"])("comment/create",this.comment).then(function(){t.initCommentForm()}).then(function(){t.getCommentList()})},handleReplay:function(t){this.comment.reply_to=t},handleCancleReply:function(){this.comment.reply_to="",this.reply=""},handleViewConversation:function(){this.conversationVisible=!0}},filters:{replyTarget:function(t,e){if(!t)return"已注销";var n="",i=e.find(function(e){return e.id==t});return n=i.$user&&i.$user.username,n}}},b=g,_=(n("a13d"),Object(p["a"])(b,s,r,!1,null,"a8778a70",null));_.options.__file="Comment.vue";var w=_.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"text-xs-center"},[n("v-dialog",{attrs:{"max-width":"640"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("转给这个世界？")]),n("v-card-text",[n("v-textarea",{ref:"commentInput",attrs:{box:"",label:"说说你的观点",clearable:"",height:80,value:"","no-resize":""},model:{value:t.remepoContent,callback:function(e){t.remepoContent=e},expression:"remepoContent"}}),n("div",[t._v("\n            "+t._s(this.oldMepo.content)+"\n          ")])],1),n("v-card-text"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.handleCloseDialog}},[t._v("\n            不了，我在想想\n          ")]),n("v-btn",{attrs:{color:"blue",dark:""},on:{click:t.handleRemepo}},[t._v("\n            啵一下\n          ")])],1)],1)],1)],1)])},C=[],y={props:{dialog:Boolean,remepoFrom:Number},data:function(){return{remepoContent:"",oldMepo:{}}},mounted:function(){this.user_id=l["a"].his_id(),this.getMepoInfo()},computed:{visible:{get:function(){return this.dialog},set:function(t){this.$emit("update:dialog",t)}}},methods:{getMepoInfo:function(){var t=this;Object(c["a"])("mepo/find",{id:this.remepoFrom}).then(function(e){t.oldMepo=e.data})},handleCloseDialog:function(){this.$emit("update:dialog",!1)},handleRemepo:function(){var t=this,e={content:this.remepoContent||"转发米啵",pic:this.oldMepo.pic,user_id:this.user_id,remepo_from:this.oldMepo.id};Object(c["a"])("mepo/create",e).then(function(){t.$store.dispatch("mepo/getMepoList"),t.$emit("update:dialog",!1)})}}},x=y,L=(n("9588"),Object(p["a"])(x,k,C,!1,null,"5cf0629f",null));L.options.__file="RemepoDialog.vue";var $=L.exports,N={components:{Comment:w,RemepoDialog:$},props:{item:{default:{}}},created:function(){this.$store.dispatch("like/getLikedList",{self_id:this.user_id}),this.getLikeCount(this.item.id)},data:function(){return{dialog:!1,remepoDialog:!1,commentVisible:!1,loading:!0,user_id:l["a"].his_id(),like:!1,likedCount:""}},computed:{mepoList:function(){return this.$store.state.mepo.mepoList},likedList:function(){return this.$store.state.like.list}},methods:{handleMepoClick:function(){this.dialog=!0},handleUnFollow:function(t){console.log(t)},handleRemoveMepo:function(t){console.log(t)},handleShowComment:function(){this.commentVisible=!this.commentVisible},handleOpenRemepoDialog:function(){this.remepoDialog=!0},handleClickLike:function(t){var e=this,n=this.wasLiked(t);n?Object(c["a"])("mepo/unbind",{model:"user",glue:Object(a["a"])({},this.user_id,[t])}).then(function(){e.$store.dispatch("like/getLikedList",{self_id:e.user_id}),e.getLikeCount(t)}):Object(c["a"])("mepo/bind",{model:"user",glue:Object(a["a"])({},this.user_id,[t])}).then(function(){e.$store.dispatch("like/getLikedList",{self_id:e.user_id}),e.getLikeCount(t)})},wasLiked:function(t){return!!this.likedList&&!!this.likedList.find(function(e){return e.id==t})},getLikeCount:function(t){var e=this;Object(c["a"])("_bind__mepo_user/read",{where:{mepo_id:t,user_id:this.user_id}}).then(function(t){t.total?e.likedCount=t.total:e.likedCount=""})}},filters:{reMepoContent:function(t,e){var n=e.find(function(e){return e.id==t});return n&&n.content||"-"}}},j=N,F=(n("da14"),Object(p["a"])(j,i,o,!1,null,"233bede3",null));F.options.__file="MePo.vue";e["a"]=F.exports},2856:function(t,e,n){},"2a14":function(t,e,n){},"365c":function(t,e,n){"use strict";var i=n("bc3a"),o=n.n(i),a="45e3a78261d88eaacd1b9e5c8e91b5262135d9e21965dcc181ba1a15a955af4c",s="http://mock.biaoyansu.com/api/1/",r=function(t,e){return btoa(t+e)},c=function(t,e){t=s+t;var n=(new Date).getTime(),i=r(a,n),c={headers:{"biao-mock-app-key":a,"biao-mock-timestamp":n,"biao-mock-signature":i}};return o.a.post(t,e,c).then(function(t){return t.data})};e["a"]=c},"3eed":function(t,e,n){},5308:function(t,e,n){"use strict";var i=n("365c");e["a"]={exist:function(t,e){return Object(i["a"])("user/read",{where:{or:[["username","=",t],["phone","=",t],["mail","=",t]]}}).then(function(t){var n;return!(!t.data||!(n=t.data[0])||n.password!==e)&&n})},uinfo:function(){return JSON.parse(localStorage.getItem("uinfo"))||{}},login:function(t){this.replace_uinfo(t)},replace_uinfo:function(t){delete t.password,localStorage.setItem("uinfo",JSON.stringify(t))},logout:function(t){localStorage.removeItem("uinfo"),location.href=t||"/"},is_admin:function(){var t=this.uinfo();return t&&this.uinfo().is_admin},logged_in:function(){return!!this.his_id()},his_id:function(){var t=this.uinfo();return t&&this.uinfo().id}}},"56d7":function(t,e,n){"use strict";n.r(e);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var i=n("2b0e"),o=(n("5363"),n("d1e7"),n("ce5b")),a=n.n(o);n("bf40");i["default"].use(a.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Nav"),n("v-content",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1),n("Footer"),n("v-snackbar",{attrs:{color:t.snackbar.color,top:"",right:"","multi-line":"",timeout:3e3},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v("\n    "+t._s(t.snackbar.text)+"\n    "),n("v-btn",{attrs:{dark:"",flat:""},on:{click:t.handleSnackBarClose}},[t._v("\n      Close\n    ")])],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar",{attrs:{app:"",color:"blue darken-3",dark:"",fixed:""}},[i("v-icon",[t._v("mdi-twitch")]),i("v-toolbar-title",{staticStyle:{width:"100px"},domProps:{textContent:t._s(t.title)}}),i("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search"}}),i("v-spacer"),i("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[i("v-btn",{attrs:{flat:"","exact-active-class":"",to:"/"}},[i("v-icon",{attrs:{left:""}},[t._v("\n                home\n            ")]),t._v("\n            首页\n        ")],1),i("v-btn",{attrs:{flat:""}},[i("v-icon",{attrs:{left:""}},[t._v("\n                mail\n            ")]),t._v("\n            私信\n        ")],1),i("v-btn",{attrs:{flat:""},on:{click:t.handleSwitchNotificationModal}},[i("v-badge",{staticClass:"mr-2",attrs:{overlap:"",color:"orange"}},[t.notificationList.length>0?i("span",{attrs:{slot:"badge",dark:"",small:""},slot:"badge"},[t._v(t._s(t.notificationList.length))]):t._e(),i("v-icon",[t._v("\n                    notifications\n                ")])],1),t._v("\n            通知\n        ")],1),t.notiModal&&t.notificationList.length>0?i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleHideNotiModal,expression:"handleHideNotiModal"}],staticClass:"noti-container"},[i("div",{staticClass:"triangle"}),i("v-card",{staticClass:"noti-card",attrs:{"elevation-5":""}},t._l(t.notificationList,function(e,n){return i("a",{key:n,on:{click:function(n){t.handleReadNotification(e.id)}}},[t._v("\n                    "+t._s(e.params[0].name)+"\n                ")])}))],1):t._e(),i("v-menu",{attrs:{"offset-y":"",bottom:"","open-on-hover":""}},[i("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[i("v-avatar",{attrs:{tile:t.tile,size:36,color:"grey lighten-4"}},[i("img",{attrs:{src:n("915e"),alt:"avatar"}})])],1),i("v-list",[t._l(t.items,function(e,n){return[e.divider?i("v-divider",{key:n,attrs:{inset:e.inset}}):i("v-list-tile",{key:n,on:{click:function(n){t.handleMenuClick(e)}}},[i("v-list-tile-title",[t._v(t._s(e.title))])],1)]})],2)],1)],1)],1)},l=[],u=n("5308"),d=n("2103"),f=n.n(d),m={data:function(){return{items:[{title:"个人首页",path:"hikalu-z"},{title:"设置中心",path:"setting/account"},{title:"帮助中心"},{divider:!0,insert:!0},{title:"登出",path:"login",actions:"logout"}],title:"MePo",tile:!1,notiModal:!1,user_id:u["a"].his_id()}},created:function(){this.getNotificationList()},computed:{notificationList:function(){return this.$store.state.notification.list}},methods:{getNotificationList:function(){this.$store.dispatch("notification/getNotificationList",{self_id:u["a"].his_id()})},handleMenuClick:function(t){t.actions&&"logout"===t.actions&&u["a"].logout("#/login"),t.path&&this.$router.push("/".concat(t.path))},handleSwitchNotificationModal:function(){this.notiModal=!this.notiModal},handleHideNotiModal:function(){this.notiModal=!1},handleReadNotification:function(t){console.log(t),this.$store.dispatch("notification/updateNotification",{id:t,status:"read",self_id:this.user_id})}},directives:{clickOutside:f.a.directive}},p=m,h=(n("15c4"),n("2877")),v=Object(h["a"])(p,c,l,!1,null,"641f3250",null);v.options.__file="Nav.vue";var g=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{dark:"",height:"auto"}},[n("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[n("v-card-title",{staticClass:"teal"},[n("strong",{staticClass:"subheading"},[t._v("Get connected with us on social networks!")]),n("v-spacer"),t._l(t.icons,function(e){return n("v-btn",{key:e,staticClass:"mx-3",attrs:{dark:"",icon:""}},[n("v-icon",{attrs:{size:"24px"}},[t._v(t._s(e))])],1)})],2),n("v-card-actions",{staticClass:"grey darken-3 justify-center"},[t._v("\n            ©2018 —\n            "),n("strong",[t._v("HIKALU")])])],1)],1)},_=[],w={data:function(){return{icons:["mdi-facebook-box","mdi-wechat","mdi-qqchat"]}}},k=w,C=(n("c38e"),Object(h["a"])(k,b,_,!1,null,"32e485aa",null));C.options.__file="Footer.vue";var y=C.exports,x={name:"App",components:{Nav:g,Footer:y},methods:{handleSnackBarClose:function(){this.$store.dispatch("hideSnackBar")}},computed:{snackbar:function(){return this.$store.state.snackbar}}},L=x,$=(n("5c0b"),Object(h["a"])(L,s,r,!1,null,null,null));$.options.__file="App.vue";var N=$.exports,j=n("8c4f"),F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"grey lighten-4",attrs:{fluid:"","grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[t.$vuetify.breakpoint.lgAndUp?n("v-flex",{attrs:{xs3:""}},[n("DashBoard")],1):t._e(),n("v-flex",{attrs:{xs12:"",md9:"",lg6:""}},[n("MePoInput"),t._l(t.mepoList,function(t){return n("MePo",{key:t.id,attrs:{item:t}})})],2),n("v-flex",{attrs:{xs12:"",md3:""}},[n("Sidebar")],1)],1)],1)},O=[],M=n("a315"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{column:"",wrap:""}},[n("v-flex",[n("v-card",{staticClass:"text-xs-center"},[n("v-card-media",{attrs:{src:"https://cdn.vuetifyjs.com/images/cards/desert.jpg",height:"120px"}}),n("v-card-title",{staticClass:"text-xs-center",attrs:{"primary-title":""}},[n("div",{staticStyle:{width:"100%"}},[n("h3",{staticClass:"headline mb-0"},[t._v("HIKALU")]),n("div",[t._v("若你以柔情封起信封")])])]),n("hr",{staticClass:"card-divider"}),n("div",{staticClass:"profile-info"},[n("ul",[n("li",[n("h4",[t._v("关注")]),n("span",{staticClass:"number"},[t._v(t._s(t.followerNumber))])]),n("li",[n("h4",[t._v("粉丝")]),n("span",{staticClass:"number"},[t._v(t._s(t.fansNumber))])]),n("li",[n("h4",[t._v("啵文")]),n("span",{staticClass:"number"},[t._v(t._s(t.mepoNumber))])])])])],1)],1),n("v-flex",[n("div",{staticClass:"card"},[t._v("\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, quo harum. Impedit, est? Repellat animi distinctio incidunt, nam iure eveniet totam aperiam quas ipsum sequi corporis facere blanditiis. Iusto, maiores?\n        ")])])],1)},P=[],D=n("365c"),E={data:function(){return{user_id:u["a"].his_id()}},created:function(){this.$store.dispatch("follow/getFollowerNumber",{self_id:this.user_id}),this.$store.dispatch("follow/getFansNumber",{self_id:this.user_id}),this.$store.dispatch("mepo/getMepoNumber",{self_id:this.user_id})},methods:{getDashBoardInfo:function(t){var e=this;Object(D["a"])("mepo/count",{where:{user_id:t}}).then(function(t){e.followerCount=t.data})}},computed:{followerNumber:function(){return this.$store.state.follow.followerNumber},fansNumber:function(){return this.$store.state.follow.fansNumber},mepoNumber:function(){return this.$store.state.mepo.mepoNumber}}},B=E,I=(n("1459"),Object(h["a"])(B,S,P,!1,null,"4f75effa",null));I.options.__file="DashBoard.vue";var R=I.exports,T=n("251e"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("v-card",{staticClass:"mb-2"},[n("div",[n("v-textarea",{attrs:{counter:"",maxlength:"140",outline:"",label:"和世界啵一下","single-line":""},model:{value:t.mepo.content,callback:function(e){t.$set(t.mepo,"content",e)},expression:"mepo.content"}})],1),n("v-layout",[n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"teal lighten-1"}},[t._v("\n                    face\n                ")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"teal lighten-1"}},[t._v("\n                    image\n                ")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"teal lighten-1"}},[t._v("\n                    mdi-video\n                ")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"teal lighten-1"}},[t._v("\n                    mdi-google-analytics\n                ")])],1),n("v-spacer"),n("v-btn",{staticClass:"mr-3",attrs:{round:"",dark:"",color:"blue",type:"submit"}},[t._v("\n                啵一个\n            ")])],1)],1)],1)},A=[],q={data:function(){return{}},mounted:function(){this.mepo.user_id=u["a"].his_id()},methods:{handleSubmit:function(){this.mepo.user_id?this.$store.dispatch("mepo/createMepo",{mepo:this.mepo}):this.$store.dispatch("showSnackBar",{text:"尚未登录，请先登录再和世界啵一下吧~",color:"success"})},handleFileUploader:function(){var t=document.getElementById("uploader"),e=t.files[0],n=new FormData;n.append("file",e),n.append("name","my-file.jpg"),n.append("age",18),console.log(e,n)}},computed:{mepo:function(){return this.$store.state.mepo.mepo}}},U=q,V=(n("8978"),Object(h["a"])(U,z,A,!1,null,"943d350c",null));V.options.__file="MePoInput.vue";var H=V.exports,J={components:{DashBoard:R,MePo:T["a"],MePoInput:H,Sidebar:M["a"]},created:function(){var t=this;this.user_id=u["a"].his_id(),this.getFollowedList().then(function(){t.getMepoList()})},data:function(){return{}},methods:{getMepoList:function(){var t=[["user_id","in",this.pluck(this.followedList,"id")]],e=[{relation:"has_one",model:"user"},{relation:"belongs_to_many",model:"user",as:"belongsToUsers"}];this.$store.dispatch("mepo/getMepoList",{where:t,withProp:e})},pluck:function(t,e){var n=[];return t.forEach(function(t){n.push(t[e])}),n},getFollowedList:function(){return this.$store.dispatch("follow/getFollowedList",{self_id:this.user_id})}},computed:{followedList:function(){return this.$store.state.follow.list},mepoList:function(){return this.$store.state.mepo.mepoList}}},Q=J,K=(n("ffe8"),Object(h["a"])(Q,F,O,!1,null,"5c972e10",null));K.options.__file="Home.vue";var W=K.exports;i["default"].use(j["a"]);var X=new j["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:W},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"a55b"))}},{path:"/signup",name:"signup",component:function(){return n.e("signup").then(n.bind(null,"34c3"))}},{path:"/setting",name:"setting",component:function(){return n.e("setting").then(n.bind(null,"ad0a"))},children:[{path:"account",name:"account",component:function(){return n.e("setting").then(n.bind(null,"8306"))}},{path:"password",name:"password",component:function(){return n.e("setting").then(n.bind(null,"7243"))}},{path:"security",name:"security",component:function(){return n.e("setting").then(n.bind(null,"8a6b"))}}]},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/error/noexist",name:"404",component:function(){return n.e("google").then(n.bind(null,"8cdb"))}},{path:"/:username",name:"user",component:function(){return n.e("about").then(n.bind(null,"1511"))}}]}),G=n("2f62"),Y={mepoList:[],total:0,mepoNumber:0,currentPage:1,query:"",mepo:{content:"",user_id:u["a"].his_id()}},Z={},tt={getMepoList:function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.where,o=void 0===i?"":i,a=n.withProp,s=void 0===a?[]:a;Object(D["a"])("mepo/read",{where:o,with:s}).then(function(t){var n=t.data||[];e("setMepoList",n),e("setTotal",t.total),e("setCurrentPage",t.current)})},createMepo:function(t,e){var n=t.commit,i=e.mepo;Object(D["a"])("mepo/create",i).then(function(t){return i.content="",t.success}).then(function(t){t&&Object(D["a"])("mepo/read").then(function(t){var e=t.data||[];n("setMepoList",e),n("setTotal",t.total),n("setCurrentPage",t.current)})})},getMepoNumber:function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.self_id;Object(D["a"])("mepo/count",{where:{user_id:i}}).then(function(t){e("setMepoNumber",t.data||0)})}},et={setMepoList:function(t,e){t.mepoList=e},setMepoNumber:function(t,e){t.mepoNumber=e},setTotal:function(t,e){t.total=e},setCurrentPage:function(t,e){t.currentPage=e},setQuery:function(t,e){t.query=e}},nt=!0,it={namespaced:nt,state:Y,getters:Z,actions:tt,mutations:et},ot={list:[]},at={},st={getLikedList:function(t,e){var n=t.commit,i=e.self_id;return Object(D["a"])("user/find",{id:i,with:[{relation:"belongs_to_many",model:"mepo"}]}).then(function(t){n("setLikedList",t.data.$mepo||[])})}},rt={setLikedList:function(t,e){t.list=e},setTotal:function(t,e){t.total=e}},ct=!0,lt={namespaced:ct,state:ot,getters:at,actions:st,mutations:rt},ut={list:[],followerNumber:0,fansNumber:0},dt={},ft={getFollowedList:function(t,e){var n=t.commit,i=e.self_id;return Object(D["a"])("user/find",{id:i,with:[{relation:"belongs_to_many",model:"user"}]}).then(function(t){n("setFollowedList",t.data.$user||[])})},getFollowerNumber:function(t,e){var n=t.commit,i=e.self_id;return Object(D["a"])("_bind__user_user/read",{where:{follower_id:i}}).then(function(t){var e=t.data.length;n("setFollowerNumber",e||0)})},getFansNumber:function(t,e){var n=t.commit,i=e.self_id;return Object(D["a"])("_bind__user_user/read",{where:{target_id:i}}).then(function(t){var e=t.data.length;n("setFansNumber",e||0)})}},mt={setFollowedList:function(t,e){t.list=e},setFollowerNumber:function(t,e){t.followerNumber=e},setFansNumber:function(t,e){t.fansNumber=e},setCurrentPage:function(t,e){t.currentPage=e},setQuery:function(t,e){t.query=e}},pt=!0,ht={namespaced:pt,state:ut,getters:dt,actions:ft,mutations:mt},vt={list:[]},gt={},bt={getRecommendationList:function(t,e){var n=t.commit,i=e.self_id;Object(D["a"])("user/read",{limit:3,where:[["id","!=",i]]}).then(function(t){var e=t.data||[];n("setRecommendationList",e),n("setTotal",t.total),n("setCurrentPage",t.current)})}},_t={setRecommendationList:function(t,e){t.list=e},setTotal:function(t,e){t.total=e},setCurrentPage:function(t,e){t.currentPage=e},setQuery:function(t,e){t.query=e}},wt=!0,kt={namespaced:wt,state:vt,getters:gt,actions:bt,mutations:_t},Ct={list:[]},yt={},xt={getNotificationList:function(t,e){var n=t.commit,i=e.self_id;Object(D["a"])("notification/read",{where:{user_id:i,status:"unread"}}).then(function(t){n("setNotification",t.data||[])})},updateNotification:function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.id,o=void 0===i?"":i,a=n.status,s=void 0===a?"":a,r=n.self_id,c=void 0===r?"":r;Object(D["a"])("notification/update",{id:o,status:s}).then(function(t){console.log(t)}).then(function(){Object(D["a"])("notification/read",{where:{user_id:c,status:"unread"}}).then(function(t){e("setNotification",t.data||[])})})}},Lt={setNotification:function(t,e){t.list=e}},$t=!0,Nt={namespaced:$t,state:Ct,getters:yt,actions:xt,mutations:Lt};i["default"].use(G["a"]);var jt=new G["a"].Store({modules:{mepo:it,like:lt,follow:ht,recommend:kt,notification:Nt},state:{snackbar:{show:!1,text:"something wrong",color:"success"}},mutations:{hideSnackBar:function(t){t.snackbar.show=!1},showSnackBar:function(t,e){var n=e.text,i=e.color;console.log(n,i),t.snackbar.show=!0,t.snackbar.text=n||"",t.snackbar.color=i||"error"}},actions:{hideSnackBar:function(t){var e=t.commit;e("hideSnackBar")},showSnackBar:function(t,e){var n=t.commit,i=e.text,o=e.color;n("showSnackBar",{text:i,color:o})}}}),Ft=n("9483");Object(Ft["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),i["default"].config.productionTip=!1,X.beforeEach(function(t,e,n){t.matched.length?n():n("/error/noexist")}),new i["default"]({router:X,store:jt,render:function(t){return t(N)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("2856"),o=n.n(i);o.a},"6da6":function(t,e,n){},8978:function(t,e,n){"use strict";var i=n("bd14"),o=n.n(i);o.a},"915e":function(t,e,n){t.exports=n.p+"img/avatar.911de5ac.jpg"},9588:function(t,e,n){"use strict";var i=n("bb2a"),o=n.n(i);o.a},a13d:function(t,e,n){"use strict";var i=n("6da6"),o=n.n(i);o.a},a315:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{column:""}},[i("v-flex",{attrs:{xs12:"",lg12:""}},[i("v-card",[i("v-card-title",{attrs:{"primary-title":""}},[i("h4",[t._v("\n          推荐关注\n        ")])]),i("v-list",{attrs:{"two-line":""}},[t._l(t.recommendationList,function(e,o){return[0!=o?i("v-divider",{key:"d"+o,attrs:{inset:!0}}):t._e(),i("v-list-tile",{key:e.title,attrs:{avatar:""},on:{click:t.handleListClick}},[i("v-list-tile-avatar",[e.avatar_url?i("img",{attrs:{src:e.avatar_url,alt:"用户头像"}}):i("img",{attrs:{src:n("e1c3"),alt:"默认头像"}})]),i("v-list-tile-content",[e.nickname?i("v-list-tile-title",{domProps:{textContent:t._s(e.nickname)}}):t._e(),e.nickname?i("h4",{staticClass:"mt-1",domProps:{textContent:t._s(e.nickname)}}):i("h4",{staticClass:"mt-1",domProps:{textContent:t._s(e.username)}}),i("v-list-tile-action",[t.hasFollowed(e.id)?i("v-btn",{staticClass:"primary ml-2",attrs:{round:"",small:"",dark:""},on:{click:function(n){t.handleUnFollow(e.id)}}},[t._v("\n                  取消关注\n                ")]):i("v-btn",{staticClass:"cyan ml-2",attrs:{round:"",small:"",dark:""},on:{click:function(n){t.handleFollow(e.id)}}},[t._v("\n                  关注\n                ")])],1)],1)],1)]})],2)],1)],1),i("v-flex",{attrs:{xs12:"",lg12:""}},[i("v-card",[i("v-card-media",{attrs:{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1535357618492&di=847b27311e6400a17a651a5dd0b625fd&imgtype=0&src=http%3A%2F%2Fimglf1.ph.126.net%2FRNvHEbXyQ8WSjCpzXoW6yg%3D%3D%2F6619117173816208528.jpg",height:"200px"}}),i("v-card-actions",[i("v-btn",{attrs:{flat:"",color:"orange"}},[t._v("Share")]),i("v-btn",{attrs:{flat:"",color:"orange"}},[t._v("Explore")])],1)],1)],1)],1)},o=[],a=n("a322"),s=n("365c"),r=n("5308"),c={created:function(){this.user_id=r["a"].his_id(),this.user_id&&(this.$store.dispatch("recommend/getRecommendationList",{self_id:this.user_id}),this.getFollowedList())},data:function(){return{user_id:null}},methods:{handleListClick:function(){},handleFollow:function(t){var e=this;this.user_id?Object(s["a"])("user/bind",{model:"user",glue:Object(a["a"])({},this.user_id,t)}).then(function(){e.getFollowedList()}):this.$store.dispatch("showSnackBar",{text:"尚未登录，请先登录"})},handleUnFollow:function(t){var e=this;Object(s["a"])("user/unbind",{model:"user",glue:Object(a["a"])({},this.user_id,t)}).then(function(){e.getFollowedList()})},getFollowedList:function(){return this.$store.dispatch("follow/getFollowerNumber",{self_id:this.user_id}),this.$store.dispatch("follow/getFansNumber",{self_id:this.user_id}),this.$store.dispatch("follow/getFollowedList",{self_id:this.user_id})},getTimeLine:function(){},hasFollowed:function(t){return!!this.followedList&&!!this.followedList.find(function(e){return e.id==t})}},computed:{recommendationList:function(){return this.$store.state.recommend.list},followedList:function(){return this.$store.state.follow.list}}},l=c,u=(n("c58c"),n("2877")),d=Object(u["a"])(l,i,o,!1,null,"e0463a18",null);d.options.__file="Sidebar.vue";e["a"]=d.exports},bb2a:function(t,e,n){},bd14:function(t,e,n){},c38e:function(t,e,n){"use strict";var i=n("eaed"),o=n.n(i);o.a},c58c:function(t,e,n){"use strict";var i=n("e245"),o=n.n(i);o.a},da14:function(t,e,n){"use strict";var i=n("3eed"),o=n.n(i);o.a},e03d:function(t,e,n){},e1c3:function(t,e,n){t.exports=n.p+"img/ddyz.8ccda595.png"},e245:function(t,e,n){},eaed:function(t,e,n){},f2cd:function(t,e,n){},f417:function(t,e,n){},f4fa:function(t,e,n){"use strict";var i=n("f417"),o=n.n(i);o.a},ffe8:function(t,e,n){"use strict";var i=n("e03d"),o=n.n(i);o.a}});
//# sourceMappingURL=app.41e0978a.js.map